<div><div plug="layout"><div class="pdl-layout"><div data-type="layout"><div class="pdl-cell" data-name="yaxis">&nbsp;</div><div class="pdl-cell" data-name="view"></div><div class="pdl-cell"></div><div class="pdl-cell" data-name="xaxis">&nbsp;</div><div class="pdl-cell" data-name="legend">&nbsp;</div></div><div data-type="render"></div></div></div><style type="text/css">[data-name=xaxis]{font-size:.8em}[data-name=yaxis]{font-size:.8em}.pdl-layout>div[data-type=layout]{display:grid;grid-template-columns:fit-content(2em) 1fr fit-content(10em);grid-template-rows:1fr fit-content(1em);padding:0 .5em}.pdl-layout>div[data-type=layout]>.pdl-cell[data-name=legend]{grid-column:3;grid-row:1/span 2;padding-left:1em}.pdl-layout.legend-below>div[data-type=layout]{grid-template-columns:2em 1fr;grid-template-rows:1fr fit-content(2em) fit-content(3em)}.pdl-layout.legend-below>div[data-type=layout] .pdl-cell[data-name=legend]{padding-top:1em;grid-column:1/span 2;grid-row:3}</style><script type="@plotdb/block">var mod;module.exports={pkg:{name:"dumbbell",version:"0.0.1",extend:{name:"base",version:"0.0.1"},dependencies:[]},init:function(t){var e,n,a;e=t.root,n=t.context,a=t.pubsub;return a.fire("init",{mod:mod({context:n})})}};mod=function(t){var e,n,u,a,r;e=t.context;n=e.chart,u=e.d3,a=e.ldcolor,r=e.debounce;return{sample:function(){return{raw:[0,1,2,3,4,5,6,7,8,9,10].map(function(t){return{val1:Math.random()*.5+.4,val2:Math.random()*.5+.4,val3:Math.random()*.6+.1,val4:Math.random()*.6+.1,name:t}}),binding:{name:{key:"name"},y1:[{key:"val1"},{key:"val2"}],y2:[{key:"val3"},{key:"val4"}]}}},config:{},dimension:{y1:{type:"R",multiple:true,name:"y pos"},y2:{type:"R",multiple:true,name:"y pos"},name:{type:"N",name:"dumbbell name"}},init:function(){var t;return this.tint=t=new n.utils.tint},parse:function(){var a=this;this.parsed=[];this.parsed=this.data.map(function(n,t){var e;e=n.y1.map(function(t,e){return{y1:n.y1[e]||0,y2:n.y2[e]||0,name:[a.binding.y1[e].key,a.binding.y2[e].key]}});return{name:n.name,dumbbell:e}});return this.names=this.data.map(function(t){return t.name})},resize:function(){var t,e,n;t=[this.box.width,this.box.height],e=t[0],n=t[1];this.extent={y:[u.min(this.data.map(function(t,e){return u.min([u.min(t.y1),u.min(t.y2)])})),u.max(this.data.map(function(t,e){return u.max([u.max(t.y1),u.max(t.y2)])}))]};this.scale={x:u.scaleBand().domain(this.names).range([0,e]).paddingInner(.3),y:u.scaleLinear().domain([0,this.extent.y[1]]).range([0,n]),c:u.scaleOrdinal(u.schemeCategory10)};if(this.cfg.palette){this.scale.c=u.scaleOrdinal(this.cfg.palette.colors.map(function(t){return a.web(t.value||t)}))}if(this.cfg.palette){return this.tint.set(this.cfg.palette.colors.map(function(t){return a.web(t.value||t)}))}},render:function(){var s,c,t,e;s=this.scale,c=this.tint;t=u.select(this.svg);e=t.selectAll("g.data").data(this.parsed);e.exit().remove();e.enter().append("g").attr("class","data");return t.selectAll("g.data").each(function(i,t){var l,e,n;l=s.x.bandwidth();e=u.select(this);n=e.selectAll("g.dumbbell").data(i.dumbbell);n.exit().remove();n.enter().append("g").attr("class","dumbbell");return e.selectAll("g.dumbbell").each(function(n,t){var e,a,r;e=u.select(this);a=e.selectAll("circle").data([1,2]);a.exit().remove();a.enter().append("circle");r=e.selectAll("line").data([0]);r.exit().remove();r.enter().append("line");e.selectAll("circle").attr("cx",function(t,e){return s.x(i.name)+l*e}).attr("cy",function(t,e){return s.y(n["y"+t])}).attr("r",2).attr("fill",function(){return c.get(n.name[0])});return e.selectAll("line").attr("x1",function(t,e){return s.x(i.name)}).attr("x2",function(t,e){return s.x(i.name)+l}).attr("y1",function(t,e){return s.y(n.y1)}).attr("y2",function(t,e){return s.y(n.y2)}).attr("stroke",function(){return c.get(n.name[0])}).attr("stroke-width",1)})})}}};</script></div>